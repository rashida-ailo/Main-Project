{% extends 'accounts/base_admin.html' %}

{% block content %}
<h2>Edit Doctor Profile</h2>

<form method="POST">
    {% csrf_token %}

    <!-- Doctor Name (Read-only) -->
    <div class="mb-3">
        <label class="form-label">Doctor Name</label>
        <input type="text"
               class="form-control"
               value="Dr. {{ doctor.user.first_name }} {{ doctor.user.last_name }}"
               readonly>
    </div>

    <!-- Specialization -->
    <div class="mb-3">
        <label class="form-label">Specialization</label>
        <select name="specialization" class="form-control" required>
            {% for value, label in specializations %}
                <option value="{{ value }}"
                    {% if doctor.specialization == value %}selected{% endif %}>
                    {{ label }}
                </option>
            {% endfor %}
        </select>
    </div>

    <!-- Qualification -->
    <div class="mb-3">
        <label class="form-label">Qualification</label>
        <input type="text"
               name="qualification"
               class="form-control"
               value="{{ doctor.qualification }}">
    </div>

    <!-- Experience -->
    <div class="mb-3">
        <label class="form-label">Experience (Years)</label>
        <input type="number"
               name="experience_years"
               class="form-control"
               value="{{ doctor.experience_years }}"
               min="0">
    </div>

    <!-- Consultation Fee -->
    <div class="mb-3">
        <label class="form-label">Consultation Fee</label>
        <input type="number"
               step="0.01"
               name="consultation_fee"
               class="form-control"
               value="{{ doctor.consultation_fee }}">
    </div>

    <!-- Availability -->
    <div class="form-check mb-4">
        <input class="form-check-input"
               type="checkbox"
               name="is_available"
               id="is_available"
               {% if doctor.is_available %}checked{% endif %}>
        <label class="form-check-label" for="is_available">
            Available for Appointments
        </label>
    </div>

    <!-- Buttons -->
    <button type="submit" class="btn btn-success">
        Save Changes
    </button>
    <a href="{% url 'admin_manage_doctors' %}" class="btn btn-secondary">
        Cancel
    </a>
</form>

{% endblock %}
